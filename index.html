<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>sushi</title>
<style>
  body {
      /*background:#FFCC99;*/
      background:linear-gradient(90deg,
       #696 0%, #696 7%,
       #fc9 7%,#fc9 10%,
       #eee 10%,#eee 20%,
       #fc9 20%,#fc9 80%,
       #eee 80%,#eee 90%,
       #fc9 90%,#fc9 93%,
       #696 93%,#696 100%);
    }
    #container {
        margin: 0 auto;
      }
  p{
    text-align: center;
    font-size: 20px;
    color: white;
  }
  #check{
    text-align: center;
color:#96f;
  }
  #btn{
    text-align: center;
  }
  button{
    width:7em;
    height:3em;    
  }
    </style>
</head>
<body>
<div id="text"></div>
<p>ちらし寿司のちらし方に迷ったときはこれを参考にしよう！</p>
<div id="check">
<label><input type="checkbox" id="check1">マグロ</label>
<label><input type="checkbox" id="check2">サーモン</label>
<label><input type="checkbox" id="check3">イクラ</label>
<label><input type="checkbox" id="check4">玉子</label>
<label><input type="checkbox" id="check5">きゅうり</label>
</div>
<div id="btn">
<button id="bt">ちらす</button>
</div>
<br>
<div id="container">
<canvas id="cvs"></canvas>
</div>
<script>
let title=document.getElementById("text");
title.style.width="500px";
title.style.margin="0 auto 20px";
title.style.color="#66CCFF";
title.style.fontSize="30px";
title.style.textAlign="center"
title.textContent="全自動ちらし寿司ちらしマシーン";
title.style.textShadow="1px 2px #C99";
title.style.border="5px solid #f36";
title.style.borderRadius="10px";
title.style.borderImage="linear-gradient(to right, #f36 0%, yellow 100%)";
title.style.borderImageSlice= "1";
title.style.padding="0 10px";
title.style.backgroundColor="#9fc";

//canvas取得
const cvs=document.getElementById('cvs');
//2dコンテキスト取得
const ctx=cvs.getContext('2d');
//キャンバスの大きさ設定
cvs.width=700;
cvs.height=550;

//背景画像
ctx.fillStyle="#FFCC99";
ctx.fillRect(0,0,cvs.width,cvs.height);
const img1=new Image();
img1.src="./images/rice.jpg";

img1.onload = ()=>{
  
  ctx.drawImage(img1,0,0,700,550);
}

const container = document.getElementById("container");
container.style.width = '700px';
let tunaCheck = document.getElementById('check1');
let salmonCheck = document.getElementById('check2');
let ikuraCheck = document.getElementById('check3');
let eggCheck = document.getElementById('check4');
let cucumberCheck = document.getElementById('check5');
let ele=document.getElementById("bt");
ele.addEventListener("click",function(){


  if (tunaCheck.checked){
  let tunaCount=0;
  let tunaTimer=setInterval(()=>{
      tunaCount++;
      ctx.save();
      ctx.translate(Math.random()*cvs.width,Math.random()*cvs.height);
      ctx.rotate(Math.random()*2*Math.PI);
      let grd = ctx.createLinearGradient(0, 0, 50, 40);
      grd.addColorStop(0.0, "#f99");
      grd.addColorStop(0.5, "red");
      grd.addColorStop(1.0, "#930");
      ctx.fillStyle=grd;
      ctx.fillRect(0,0,50,40);
      ctx.restore();
      if(tunaCount > 30){
        clearInterval(tunaTimer);
      }
  },30);
  }

  if (salmonCheck.checked){
  let salmonCount=0;
  let salmonTimer=setInterval(()=>{
      salmonCount++;
      ctx.save();
      ctx.translate(Math.random()*cvs.width,Math.random()*cvs.height);
      ctx.rotate(Math.random()*2*Math.PI);
      let grd = ctx.createLinearGradient(0, 0, 60, 35);
      grd.addColorStop(0, "orange");
      grd.addColorStop(1, "white");
      ctx.fillStyle=grd;
      ctx.fillRect(0,0,60,35);
      ctx.restore();
      if(salmonCount > 30){
        clearInterval(salmonTimer);
      }
  },30);
}

  if (ikuraCheck.checked){
  let ikuraCount=0;
  let ikuraTimer=setInterval(()=>{
      ikuraCount++;
      ctx.save();
      ctx.translate(Math.random()*cvs.width,Math.random()*cvs.height);
      ctx.rotate(Math.random()*2*Math.PI);
      let grd = ctx.createLinearGradient(0, 0, 15, 15);
      grd.addColorStop(0, "#ff8856");
      grd.addColorStop(1, "white");
      ctx.fillStyle=grd;
      ctx.beginPath();
      ctx.arc(0,0,15,0,Math.PI*2);
      ctx.closePath();
      ctx.fill();
      ctx.restore();
      if(ikuraCount > 30){
        clearInterval(ikuraTimer);
      }
  },30);
  }

  if (eggCheck.checked){
  let eggCount=0;
  let eggTimer=setInterval(()=>{
      eggCount++;
      ctx.save();
      ctx.translate(Math.random()*cvs.width,Math.random()*cvs.height);
      ctx.rotate(Math.random()*2*Math.PI);
      let grd = ctx.createLinearGradient(0, 0, 70, 50);
      grd.addColorStop(0.0, "yellow");
      grd.addColorStop(0.5, "white");
      grd.addColorStop(1.0, "yellow");
      ctx.fillStyle=grd;
      ctx.beginPath();
      ctx.moveTo(0,0);
      ctx.lineTo(70,0);
      ctx.lineTo(70,50);
      ctx.closePath();
      ctx.fill();
      ctx.strokeStyle="yellow"
       ctx.lineCap="round"
      ctx.stroke();
      ctx.restore();
      if(eggCount > 30){
        clearInterval(eggTimer);
      }
  },30);
  }

  if (cucumberCheck.checked){
  let cucumberCount=0;
  let cucumberTimer=setInterval(()=>{
      cucumberCount++;
      ctx.save();
      ctx.translate(Math.random()*cvs.width,Math.random()*cvs.height);
      ctx.rotate(Math.random()*2*Math.PI);
      let grd = ctx.createLinearGradient(0, 0, 60, 10);
      ctx.beginPath();
      ctx.arc(0,0,30,0,Math.PI);
        grd.addColorStop(0.0 , "#cfc");
        grd.addColorStop(0.5 , "#6c6");
        grd.addColorStop(1.0 , "#090");
        ctx.fillStyle=grd;
      ctx.closePath();
      ctx.fill();
      ctx.restore();
      if(cucumberCount > 30){
        clearInterval(cucumberTimer);
      }
  },30);
  }
});
</script>
</body>
</html>
